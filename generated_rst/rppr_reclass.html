<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>reclass &mdash; pplacer v1.1.alpha19-20-g399f513 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'v1.1.alpha19-20-g399f513',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="pplacer v1.1.alpha19-20-g399f513 documentation" href="../index.html" />
    <link rel="up" title="rppr" href="rppr.html" />
    <link rel="next" title="ref_tree" href="rppr_ref_tree.html" />
    <link rel="prev" title="prepsim" href="rppr_prepsim.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="rppr_ref_tree.html" title="ref_tree"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="rppr_prepsim.html" title="prepsim"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">pplacer v1.1.alpha19-20-g399f513 documentation</a> &raquo;</li>
          <li><a href="rppr.html" accesskey="U">rppr</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">reclass</a><ul>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="rppr_prepsim.html"
                        title="previous chapter">prepsim</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="rppr_ref_tree.html"
                        title="next chapter">ref_tree</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/generated_rst/rppr_reclass.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="reclass">
<span id="rppr-reclass"></span><h1>reclass<a class="headerlink" href="#reclass" title="Permalink to this headline">¶</a></h1>
<p><cite>reclass</cite> reclassifies nonconvex sequences in a reference package.</p>
<div class="highlight-python"><div class="highlight"><pre>usage: reclass [options] -c my.refpkg
</pre></div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-c</span></kbd></td>
<td>Reference package path. Required.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-o</span></kbd></td>
<td>Specify the filename to write to.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--out-dir</span></kbd></td>
<td>Specify the directory to write files to.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--prefix</span></kbd></td>
<td>Specify a string to be prepended to filenames.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--csv</span></kbd></td>
<td>Output the results as csv instead of a padded matrix.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-j</span></kbd></td>
<td>The number of processes to run pplacer with. default: 2</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-p</span></kbd></td>
<td>Calculate posterior probabilities when doing placements.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--placefile</span></kbd></td>
<td>Save the placefile generated by running pplacer to the specified location.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-t</span></kbd></td>
<td>If specified, the path to write the suggestion tree to.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<p>Suggest better classifications of sequences in a reference package.</p>
<p><tt class="docutils literal"><span class="pre">rppr</span> <span class="pre">reclass</span></tt> first looks at all ranks of a reference package, starting at
the most specific rank, until it finds the first rank with discordance.
Discordant leaves are cut off using the convexify algorithm. The sequences
corresponding to the cut leaves are then placed with pplacer against the
remaining sequences in the reference package.</p>
<p>The result is a table of the suggested reclassifications of these sequences:</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>seq_name</td>
<td>The name of the sequence.</td>
</tr>
<tr class="row-odd"><td>old_name</td>
<td>The name of the tax_id this sequence used to have.</td>
</tr>
<tr class="row-even"><td>old_taxid</td>
<td>The actual tax_id this sequence used to have.</td>
</tr>
<tr class="row-odd"><td>new_name</td>
<td>The name of the suggested tax_id for this sequence.</td>
</tr>
<tr class="row-even"><td>new_taxid</td>
<td>The actual suggested tax_id.</td>
</tr>
<tr class="row-odd"><td>makes_convex</td>
<td><tt class="docutils literal"><span class="pre">true</span></tt> if reclassifying this sequence with the new tax_id will result in a convex tree, otherwise <tt class="docutils literal"><span class="pre">false</span></tt>.</td>
</tr>
<tr class="row-even"><td>uninformative</td>
<td><tt class="docutils literal"><span class="pre">true</span></tt> if this sequence sits inside a clade determined to be uninformative, otherwise <tt class="docutils literal"><span class="pre">false</span></tt>.</td>
</tr>
<tr class="row-odd"><td>old_median_dist</td>
<td>The median distance from this leaf to the convex subset of leaves classified with the previous tax_id.</td>
</tr>
<tr class="row-even"><td>old_avg_cv</td>
<td>The coefficient of variation of the distances from this leaf to the convex subset of leaves classified with the previous tax_id, multiplied by 100%. <a class="footnote-reference" href="#f1" id="id1">[1]</a></td>
</tr>
<tr class="row-odd"><td>new_median_dist</td>
<td>The median distance from this leaf to the convex subset of leaves classified with the suggested tax_id. <a class="footnote-reference" href="#f2" id="id2">[2]</a></td>
</tr>
<tr class="row-even"><td>new_avg_cv</td>
<td>The coefficient of variation of the distances from this leaf to the convex subset of leaves classified with the suggested tax_id, multiplied by 100%. <a class="footnote-reference" href="#f1" id="id3">[1]</a></td>
</tr>
<tr class="row-odd"><td>n_with_old</td>
<td>The number of leaves in the original tree which were classified with the previoux tax_id.</td>
</tr>
<tr class="row-even"><td>n_nonconvex</td>
<td>The number of leaves in the original tree classified with the previous tax_id which were also non-convex.</td>
</tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id3">2</a>)</em> This may be <tt class="docutils literal"><span class="pre">-</span></tt> if there are only zero or one other leaves with that tax_id.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>This may be <tt class="docutils literal"><span class="pre">-</span></tt> if there are no other leaves with that tax_id.</td></tr>
</tbody>
</table>
<p>Uninformative clades are determined to be clades containing all of the
representatives of exactly two tax_ids which are not found anywhere else in the
tree.</p>
<p>The suggestion tree emitted with the <tt class="docutils literal"><span class="pre">-t</span></tt> flag is similar to the discordance
tree emitted by <tt class="docutils literal"><span class="pre">rppr</span> <span class="pre">convexify</span></tt>; it colors all of the leaves which were cut
by the convexify step red, colors all of the edges which are considered
uninformative (with the overlap between these two sets colored orange), and
relabels the cut sequences to include the name of the suggested new
classification. The new label is in the format <tt class="docutils literal"><span class="pre">seq_name</span> <span class="pre">-&gt;</span> <span class="pre">new_name</span></tt>, using
the column names described above.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="rppr_ref_tree.html" title="ref_tree"
             >next</a> |</li>
        <li class="right" >
          <a href="rppr_prepsim.html" title="prepsim"
             >previous</a> |</li>
        <li><a href="../index.html">pplacer v1.1.alpha19-20-g399f513 documentation</a> &raquo;</li>
          <li><a href="rppr.html" >rppr</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2014, Matsen Group.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>