<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>edpl &mdash; pplacer v1.1.alpha19-20-g399f513 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'v1.1.alpha19-20-g399f513',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="pplacer v1.1.alpha19-20-g399f513 documentation" href="../index.html" />
    <link rel="up" title="guppy" href="guppy.html" />
    <link rel="next" title="epca" href="guppy_epca.html" />
    <link rel="prev" title="distmat" href="guppy_distmat.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="guppy_epca.html" title="epca"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="guppy_distmat.html" title="distmat"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">pplacer v1.1.alpha19-20-g399f513 documentation</a> &raquo;</li>
          <li><a href="guppy.html" accesskey="U">guppy</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">edpl</a><ul>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="guppy_distmat.html"
                        title="previous chapter">distmat</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="guppy_epca.html"
                        title="next chapter">epca</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/generated_rst/guppy_edpl.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="edpl">
<span id="guppy-edpl"></span><h1>edpl<a class="headerlink" href="#edpl" title="Permalink to this headline">¶</a></h1>
<p><cite>edpl</cite> calculates the EDPL uncertainty values for a collection of pqueries.</p>
<div class="highlight-python"><div class="highlight"><pre>usage: edpl [options] placefile
</pre></div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-o</span></kbd></td>
<td>Specify the filename to write to.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--out-dir</span></kbd></td>
<td>Specify the directory to write files to.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--prefix</span></kbd></td>
<td>Specify a string to be prepended to filenames.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--csv</span></kbd></td>
<td>Output the results as csv instead of a padded matrix.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--pp</span></kbd></td>
<td>Use posterior probability for the weight.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--first-only</span></kbd></td>
<td>Only print the first name for each pquery.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<p>The expected distance between placement locations (EDPL) is a means of understanding the uncertainty of a placement using pplacer.
The motivation for using such a metric comes from when there are a number of closely-related sequences present in the reference alignment.
In this case, there may be considerable uncertainty about which edge is best as measured by posterior probability or likelihood weight ratio.
However, the actual uncertainty as to the best region of the tree for that query sequence may be quite small.
For instance, we may have a number of very similar subspecies of a given species in the alignment, and although it may not be possible to be sure to match a given query to a subspecies, one might be quite sure that it is one of them.</p>
<p>The EDPL metric is one way of resolving this problem by considering the distances between the possible placements for a given query.
It works as follows.
Say the query bounces around to the different placement positions according to their posterior probability; i.e. the query lands with location one with probability <img class="math" src="../_images/math/35aa292c643aceacdb42eb4eff352a2f5c58a710.png" alt="p_1"/>, location two with probability <img class="math" src="../_images/math/40cdb0e5fc0c7cf6e3d3248c29f7de379c0f6abb.png" alt="p_2"/>, and so on.
Then the EDPL value is simply the expected distance it will travel in one of those bounces (if you don&#8217;t like probabilistic language, it&#8217;s simply the average distance it will travel per bounce when allowed to bounce between the placements for a long time with their assigned probabilities).
Here&#8217;s an example, with three hypothetical locations for a given query sequence:</p>
<img alt="../_images/edpl_formula.png" src="../_images/edpl_formula.png" />
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="guppy_epca.html" title="epca"
             >next</a> |</li>
        <li class="right" >
          <a href="guppy_distmat.html" title="distmat"
             >previous</a> |</li>
        <li><a href="../index.html">pplacer v1.1.alpha19-20-g399f513 documentation</a> &raquo;</li>
          <li><a href="guppy.html" >guppy</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2014, Matsen Group.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>